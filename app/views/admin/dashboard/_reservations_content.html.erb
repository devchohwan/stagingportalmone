<style>
  .reservations-container {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    border: 1px solid #e2e8f0;
    overflow: hidden;
  }
  
  .reservations-header {
    padding: 25px;
    border-bottom: 1px solid #e2e8f0;
  }
  
  .reservations-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: #2d3748;
    margin-bottom: 20px;
  }
  
  .service-nav {
    display: flex;
    gap: 5px;
    margin-bottom: 20px;
    background: #f7fafc;
    padding: 5px;
    border-radius: 10px;
  }
  
  .service-btn {
    padding: 10px 16px;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
    background: transparent;
    color: #4a5568;
  }
  
  .service-btn:hover {
    background: #edf2f7;
    color: #2d3748;
  }
  
  .service-btn.active {
    background: #ffffff;
    color: #f093fb;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .filters-container {
    display: grid;
    grid-template-columns: 1fr auto auto auto auto;
    gap: 12px;
    align-items: center;
  }
  
  .search-input {
    padding: 12px 16px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 0.9rem;
    transition: all 0.3s ease;
  }
  
  .filter-select {
    padding: 12px 16px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    font-size: 0.9rem;
    background: white;
    color: #4a5568;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 120px;
  }
  
  .filter-btn {
    padding: 12px 20px;
    border: none;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .filter-btn-primary {
    background: linear-gradient(135deg, #f093fb, #f5576c);
    color: white;
  }
  
  .filter-btn-secondary {
    background: #f7fafc;
    color: #4a5568;
    border: 1px solid #e2e8f0;
  }
  
  .reservations-content {
    padding: 25px;
  }
  
  .reservations-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
  }
  
  .table-header {
    background: #f8fafc;
  }
  
  .table-header th {
    padding: 15px 12px;
    text-align: left;
    font-weight: 600;
    font-size: 0.8rem;
    color: #4a5568;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-bottom: 1px solid #e2e8f0;
  }
  
  .reservation-row {
    transition: all 0.3s ease;
  }
  
  .reservation-row:hover {
    background: #f8fafc;
  }
  
  .reservation-row td {
    padding: 15px 12px;
    border-bottom: 1px solid #f1f5f9;
    font-size: 0.9rem;
  }
  
  .user-name {
    font-weight: 600;
    color: #2d3748;
  }
  
  .room-info {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  
  .status-badge {
    display: inline-flex;
    align-items: center;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
  }
  
  .status-pending {
    background: #fef3c7;
    color: #92400e;
  }
  
  .status-active {
    background: #dcfce7;
    color: #166534;
  }
  
  .status-completed {
    background: #e0e7ff;
    color: #3730a3;
  }
  
  .status-cancelled {
    background: #f3f4f6;
    color: #374151;
  }
  
  .status-rejected {
    background: #fee2e2;
    color: #991b1b;
  }
  
  .status-no-show {
    background: #fecaca;
    color: #991b1b;
  }
  
  .action-controls {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
  }
  
  .action-btn {
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .btn-delete {
    background: #f59e0b;
    color: white;
  }
  
  .btn-delete:hover {
    background: #d97706;
    transform: translateY(-1px);
  }
  
  .btn-approve {
    background: #10b981;
    color: white;
  }
  
  .btn-approve:hover {
    background: #059669;
    transform: translateY(-1px);
  }
  
  .btn-reject {
    background: #ef4444;
    color: white;
  }
  
  .btn-reject:hover {
    background: #dc2626;
    transform: translateY(-1px);
  }
  
  .status-select {
    padding: 6px 10px;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    font-size: 0.8rem;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .empty-state {
    text-align: center;
    padding: 60px 20px;
    color: #9ca3af;
  }
  
  .empty-state-icon {
    font-size: 3rem;
    margin-bottom: 16px;
  }
  
  .empty-state-text {
    font-size: 1.1rem;
    font-weight: 500;
  }
</style>

<div class="reservations-container">
  <div class="reservations-header">
    <h2 class="reservations-title">ğŸ“… ì˜ˆì•½ ê´€ë¦¬</h2>
    
    <div class="service-nav">
      <button onclick="loadReservationsTab('practice')" class="service-btn <%= service_type != 'makeup' ? 'active' : '' %>">
        ğŸ¹ ì—°ìŠµì‹¤ ì˜ˆì•½
      </button>
      <button onclick="loadReservationsTab('makeup')" class="service-btn <%= service_type == 'makeup' ? 'active' : '' %>">
        ğŸ“š ë³´ì¶©ìˆ˜ì—… ì˜ˆì•½
      </button>
    </div>
    
    <div class="filters-container">
      <input type="text" 
             id="reservation-search"
             placeholder="ì´ë¦„ì´ë‚˜ ì•„ì´ë””ë¡œ ê²€ìƒ‰..."
             class="search-input"
             onkeyup="window.searchReservations && window.searchReservations()">
      
      <select id="reservation-status" class="filter-select" onchange="window.filterReservations && window.filterReservations()">
        <option value="">ì „ì²´ ìƒíƒœ</option>
        <% if service_type == 'makeup' %>
          <option value="pending">ìŠ¹ì¸ ëŒ€ê¸°</option>
          <option value="active">ìˆ˜ì—… ëŒ€ê¸°</option>
          <option value="completed">ì™„ë£Œ</option>
          <option value="rejected">ê±°ì ˆë¨</option>
          <option value="cancelled">ì·¨ì†Œ</option>
          <option value="no_show">ë…¸ì‡¼</option>
        <% else %>
          <option value="pending">ëŒ€ê¸°</option>
          <option value="active">ì´ìš© ì „</option>
          <option value="completed">ì™„ë£Œ</option>
          <option value="cancelled">ì·¨ì†Œ</option>
          <option value="no_show">ë…¸ì‡¼</option>
        <% end %>
      </select>
      
      <input type="date" 
             id="reservation-date"
             class="filter-select"
             style="min-width: 140px;"
             onchange="window.filterReservations && window.filterReservations()">
      
      <button type="button" onclick="window.filterReservations && window.filterReservations()" class="filter-btn filter-btn-primary">
        ê²€ìƒ‰
      </button>
      
      <button type="button" onclick="window.resetReservationFilters && window.resetReservationFilters()" class="filter-btn filter-btn-secondary">
        ì´ˆê¸°í™”
      </button>
    </div>
  </div>

  <div class="reservations-content">
    <% if reservations && reservations.any? %>
      <table class="reservations-table">
        <thead class="table-header">
          <tr>
            <th>ì´ë¦„</th>
            <th>ì•„ì´ë””</th>
            <th><%= service_type == 'makeup' ? 'ë‹´ë‹¹' : 'ì—°ìŠµì‹¤' %></th>
            <th>ë‚ ì§œ</th>
            <th>ì‹œê°„</th>
            <th>ìƒíƒœ</th>
            <th>ì‹ ì²­ì‹œê°„</th>
            <th>ê´€ë¦¬</th>
          </tr>
        </thead>
        <tbody>
          <% reservations.each do |reservation| %>
            <% next unless reservation.user %>
            <tr class="reservation-row" 
                data-name="<%= reservation.user.name %>"
                data-username="<%= reservation.user.username %>"
                data-status="<%= reservation.status %>"
                data-date="<%= reservation.start_time&.strftime('%Y-%m-%d') || '' %>"
                data-reservation-id="<%= reservation.id %>">
              
              <td>
                <% if service_type == 'makeup' && reservation.respond_to?(:lesson_content) && reservation.lesson_content.present? %>
                  <span class="user-name clickable" 
                        style="cursor: pointer; text-decoration: underline; color: #7c3aed;" 
                        onclick="window.showLessonContent('<%= reservation.id %>')">
                    <%= reservation.user.name %>
                  </span>
                <% else %>
                  <span class="user-name"><%= reservation.user.name %></span>
                <% end %>
              </td>
              <td><%= reservation.user.username %></td>
              <td>
                <% if service_type == 'makeup' %>
                  <div class="room-info">
                    <% if reservation.user && reservation.user.teacher.present? %>
                      <%= reservation.user.teacher %>
                    <% else %>
                      <span style="color: #9ca3af;">ë¯¸ì§€ì •</span>
                    <% end %>
                  </div>
                <% else %>
                  <div class="room-info">
                    <%= reservation.room.number %>ë²ˆ
                    <% if reservation.room.respond_to?(:has_outlet) && reservation.room.has_outlet %>
                      <span class="outlet-icon" title="ì½˜ì„¼íŠ¸ ìˆìŒ">ğŸ”Œ</span>
                    <% end %>
                  </div>
                <% end %>
              </td>
              <td><%= reservation.start_time&.strftime('%Y-%m-%d') || 'N/A' %></td>
              <td>
                <% if service_type == 'makeup' && reservation.start_time && [4, 5].include?(reservation.start_time.wday) %>
                  <%= reservation.start_time.strftime('%H:%M') %> - <%= (reservation.start_time + 50.minutes).strftime('%H:%M') %>
                <% else %>
                  <%= reservation.start_time&.strftime('%H:%M') || 'N/A' %> - <%= reservation.end_time&.strftime('%H:%M') || 'N/A' %>
                <% end %>
              </td>
              <td>
                <% if service_type == 'makeup' %>
                  <% status_text = reservation.status_display %>
                  <% case reservation.status %>
                  <% when 'pending' %>
                    <span class="status-badge status-pending"><%= status_text %></span>
                  <% when 'active' %>
                    <span class="status-badge status-active"><%= status_text %></span>
                  <% when 'completed' %>
                    <span class="status-badge status-completed"><%= status_text %></span>
                  <% when 'cancelled' %>
                    <% if reservation.cancellation_reason.present? %>
                      <span class="status-badge status-cancelled clickable" 
                            style="cursor: pointer; text-decoration: underline;" 
                            onclick="window.showMakeupCancellationReason('<%= reservation.id %>')">
                        <%= status_text %>
                      </span>
                    <% else %>
                      <span class="status-badge status-cancelled"><%= status_text %></span>
                    <% end %>
                  <% when 'rejected' %>
                    <span class="status-badge status-rejected"><%= status_text %></span>
                  <% when 'no_show' %>
                    <span class="status-badge status-no-show"><%= status_text %></span>
                  <% else %>
                    <span class="status-badge status-cancelled"><%= status_text %></span>
                  <% end %>
                <% else %>
                  <% status_text = reservation.status_display %>
                  <% case reservation.status %>
                  <% when 'active', 'in_use' %>
                    <span class="status-badge status-active"><%= status_text %></span>
                  <% when 'completed' %>
                    <span class="status-badge status-completed"><%= status_text %></span>
                  <% when 'cancelled' %>
                    <span class="status-badge status-cancelled"><%= status_text %></span>
                  <% when 'no_show' %>
                    <span class="status-badge status-no-show"><%= status_text %></span>
                  <% else %>
                    <span class="status-badge status-cancelled"><%= status_text %></span>
                  <% end %>
                <% end %>
              </td>
              <td style="font-size: 0.75rem; color: #6b7280;">
                <div><%= reservation.created_at.strftime('%mì›” %dì¼') %></div>
                <div style="color: #9ca3af;"><%= reservation.created_at.strftime('%Hì‹œ %Më¶„') %></div>
              </td>
              <td>
                <div class="action-controls">
                  <%= select_tag :status,
                      options_for_select(
                        service_type == 'makeup' ? 
                          [['ìŠ¹ì¸ ëŒ€ê¸°', 'pending'], ['ìˆ˜ì—… ëŒ€ê¸°', 'active'], ['ì™„ë£Œ', 'completed'], 
                           ['ê±°ì ˆë¨', 'rejected'], ['ì·¨ì†Œ', 'cancelled'], ['ë…¸ì‡¼', 'no_show']] :
                          [['ëŒ€ê¸°', 'pending'], ['ì´ìš© ì „', 'active'], ['ì™„ë£Œ', 'completed'],
                           ['ì·¨ì†Œ', 'cancelled'], ['ë…¸ì‡¼', 'no_show']],
                        reservation.status
                      ),
                      onchange: "updateReservationStatusSmooth(#{reservation.id}, this.value, '#{service_type}', this)",
                      class: "status-select" %>
                  
                  <% if service_type == 'makeup' && reservation.status == 'pending' %>
                    <button onclick="approveReservationSmooth(<%= reservation.id %>, 'makeup', event)" 
                            class="action-btn btn-approve">ìŠ¹ì¸</button>
                    <button onclick="rejectReservationSmooth(<%= reservation.id %>, 'makeup', event)" 
                            class="action-btn btn-reject">ê±°ì ˆ</button>
                  <% end %>
                  
                  <button onclick="deleteReservationSmooth(<%= reservation.id %>, '<%= service_type %>', event)" 
                          class="action-btn btn-delete">ì‚­ì œ</button>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <div class="empty-state">
        <div class="empty-state-icon">ğŸ“…</div>
        <div class="empty-state-text">ì˜ˆì•½ì´ ì—†ìŠµë‹ˆë‹¤</div>
      </div>
    <% end %>
  </div>
</div>

<script>
(function() {
  // ê²€ìƒ‰ ê¸°ëŠ¥
  window.searchReservations = function() {
    const searchInput = document.getElementById('reservation-search');
    if (!searchInput) return;
    
    const searchTerm = searchInput.value.toLowerCase();
    const rows = document.querySelectorAll('.reservation-row');
    
    rows.forEach(row => {
      const name = (row.getAttribute('data-name') || '').toLowerCase();
      const username = (row.getAttribute('data-username') || '').toLowerCase();
      
      if (searchTerm === '' || name.includes(searchTerm) || username.includes(searchTerm)) {
        row.style.display = '';
      } else {
        row.style.display = 'none';
      }
    });
  };

  // í•„í„°ë§ ê¸°ëŠ¥ 
  window.filterReservations = function() {
    const statusFilter = document.getElementById('reservation-status')?.value || '';
    const dateFilter = document.getElementById('reservation-date')?.value || '';
    const searchTerm = (document.getElementById('reservation-search')?.value || '').toLowerCase();
    const rows = document.querySelectorAll('.reservation-row');
    
    rows.forEach(row => {
      let visible = true;
      
      if (searchTerm) {
        const name = (row.getAttribute('data-name') || '').toLowerCase();
        const username = (row.getAttribute('data-username') || '').toLowerCase();
        if (!name.includes(searchTerm) && !username.includes(searchTerm)) {
          visible = false;
        }
      }
      
      if (statusFilter && visible) {
        const status = row.getAttribute('data-status');
        if (status !== statusFilter) {
          visible = false;
        }
      }
      
      if (dateFilter && visible) {
        const date = row.getAttribute('data-date');
        if (date !== dateFilter) {
          visible = false;
        }
      }
      
      row.style.display = visible ? '' : 'none';
    });
  };

  // ì´ˆê¸°í™” ê¸°ëŠ¥
  window.resetReservationFilters = function() {
    const searchInput = document.getElementById('reservation-search');
    const statusSelect = document.getElementById('reservation-status');
    const dateInput = document.getElementById('reservation-date');
    
    if (searchInput) searchInput.value = '';
    if (statusSelect) statusSelect.value = '';
    if (dateInput) dateInput.value = '';
    
    const rows = document.querySelectorAll('.reservation-row');
    rows.forEach(row => {
      row.style.display = '';
    });
  };

  // ìƒíƒœ ì—…ë°ì´íŠ¸ - ë¶€ë“œëŸ¬ìš´ ì—…ë°ì´íŠ¸
  window.updateReservationStatusSmooth = function(reservationId, status, service, selectElement) {
    const originalValue = selectElement.value;
    const row = selectElement.closest('tr');
    
    // ë¡œë”© ìƒíƒœ í‘œì‹œ
    selectElement.disabled = true;
    selectElement.style.opacity = '0.6';
    
    fetch(`/admin/reservations/${reservationId}/update_status`, {
      method: 'PATCH',
      headers: {
        'X-CSRF-Token': document.querySelector('[name="csrf-token"]').content,
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify({ status: status, service: service })
    }).then(response => {
      if (response.ok) {
        // ìƒíƒœ ë°°ì§€ ì—…ë°ì´íŠ¸
        const statusBadge = row.querySelector('.status-badge');
        if (statusBadge) {
          const statusTexts = {
            'pending': 'ìŠ¹ì¸ ëŒ€ê¸°',
            'active': service === 'makeup' ? 'ìˆ˜ì—… ëŒ€ê¸°' : 'ì´ìš© ì „',
            'completed': 'ì™„ë£Œ',
            'cancelled': 'ì·¨ì†Œ',
            'rejected': 'ê±°ì ˆë¨',
            'no_show': 'ë…¸ì‡¼'
          };
          
          // ë¶€ë“œëŸ¬ìš´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
          statusBadge.style.transition = 'all 0.3s ease';
          statusBadge.style.transform = 'scale(1.1)';
          
          setTimeout(() => {
            // statusì˜ ë°‘ì¤„ì„ í•˜ì´í”ˆìœ¼ë¡œ ë³€í™˜
            const cssClass = status.replace('_', '-');
            statusBadge.className = 'status-badge status-' + cssClass;
            statusBadge.textContent = statusTexts[status] || status;
            statusBadge.style.transform = 'scale(1)';
          }, 150);
        }
        
        // data-status ì—…ë°ì´íŠ¸
        row.setAttribute('data-status', status);
        
      } else {
        alert('ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        selectElement.value = originalValue;
      }
    }).catch(error => {
      console.error('Error:', error);
      alert('ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
      selectElement.value = originalValue;
    }).finally(() => {
      selectElement.disabled = false;
      selectElement.style.opacity = '1';
    });
  };

  // ì˜ˆì•½ ì‚­ì œ - ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ê³¼ í•¨ê»˜
  window.deleteReservationSmooth = function(reservationId, service, event) {
    if (confirm('ì •ë§ë¡œ ì´ ì˜ˆì•½ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
      const button = event ? event.currentTarget : null;
      const row = button ? button.closest('tr') : document.querySelector(`tr[data-reservation-id="${reservationId}"]`);
      
      if (button) {
        button.disabled = true;
        button.textContent = 'ì²˜ë¦¬ì¤‘...';
        button.style.background = '#9ca3af';
        button.style.cursor = 'not-allowed';
      }
      
      fetch(`/admin/reservations/${reservationId}`, {
        method: 'DELETE',
        headers: {
          'X-CSRF-Token': document.querySelector('[name="csrf-token"]').content,
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify({ service: service })
      }).then(response => {
        if (response.ok) {
          if (row) {
            // ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì•„ì›ƒ ì• ë‹ˆë©”ì´ì…˜
            row.style.transition = 'all 0.5s ease-out';
            row.style.opacity = '0';
            row.style.transform = 'translateX(-20px)';
            row.style.backgroundColor = '#fee2e2';
            
            // ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ í›„ í–‰ ì œê±°
            setTimeout(() => {
              row.remove();
              
              // í…Œì´ë¸”ì´ ë¹„ì–´ìˆìœ¼ë©´ empty state í‘œì‹œ
              const tbody = document.querySelector('.reservations-table tbody');
              if (tbody && tbody.children.length === 0) {
                const tableContainer = document.querySelector('.reservations-content');
                if (tableContainer) {
                  tableContainer.innerHTML = `
                    <div class="empty-state">
                      <div class="empty-state-icon">ğŸ“…</div>
                      <div class="empty-state-text">ì˜ˆì•½ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    </div>
                  `;
                }
              }
            }, 500);
          } else {
            // fallback: í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
            if (typeof window.loadReservationsTab === 'function') {
              window.loadReservationsTab(service);
            }
          }
        } else {
          alert('ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          if (button) {
            button.disabled = false;
            button.textContent = 'ì‚­ì œ';
            button.style.background = '';
            button.style.cursor = 'pointer';
          }
        }
      }).catch(error => {
        console.error('Error:', error);
        alert('ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
        if (button) {
          button.disabled = false;
          button.textContent = 'ì‚­ì œ';
          button.style.background = '';
          button.style.cursor = 'pointer';
        }
      });
    }
  };

  console.log('ì˜ˆì•½ ê´€ë¦¬ í•¨ìˆ˜ë“¤ì´ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');

  // ë³´ì¶©ìˆ˜ì—… ë‚´ìš© ëª¨ë‹¬ í‘œì‹œ
  window.showLessonContent = function(reservationId) {
    // AJAXë¡œ ì˜ˆì•½ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    fetch('/admin/reservations/' + reservationId + '/lesson_content')
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          // ëª¨ë‹¬ ë‚´ìš© ì—…ë°ì´íŠ¸
          document.getElementById('modal-user-name').textContent = data.user_name;
          document.getElementById('modal-date').textContent = data.date;
          document.getElementById('modal-time').textContent = data.time;
          document.getElementById('modal-week-number').textContent = data.week_number ? data.week_number + 'ì£¼ì°¨' : 'ì£¼ì°¨ ì •ë³´ ì—†ìŒ';
          document.getElementById('modal-lesson-content').textContent = data.lesson_content || 'ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.';
          
          // ëª¨ë‹¬ í‘œì‹œ
          document.getElementById('lesson-content-modal').classList.add('show');
        } else {
          alert('ì˜ˆì•½ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      });
  };

  // ëª¨ë‹¬ ë‹«ê¸°
  window.closeLessonModal = function() {
    document.getElementById('lesson-content-modal').classList.remove('show');
  };
  
  
})();
</script>

<!-- ë³´ì¶©ìˆ˜ì—… ë‚´ìš© ëª¨ë‹¬ -->
<div id="lesson-content-modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>ë³´ì¶©ìˆ˜ì—… ì‹ ì²­ ë‚´ìš©</h3>
      <button class="close-btn" onclick="window.closeLessonModal()">&times;</button>
    </div>
    <div class="modal-body">
      <div class="modal-info">
        <div class="info-row">
          <strong>ìˆ˜ê°•ìƒ:</strong> <span id="modal-user-name"></span>
        </div>
        <div class="info-row">
          <strong>ë‚ ì§œ:</strong> <span id="modal-date"></span>
        </div>
        <div class="info-row">
          <strong>ì‹œê°„:</strong> <span id="modal-time"></span>
        </div>
        <div class="info-row">
          <strong>ì£¼ì°¨:</strong> <span id="modal-week-number"></span>
        </div>
      </div>
      <div class="modal-lesson-content">
        <strong>ì‹ ì²­ ë‚´ìš©:</strong>
        <div id="modal-lesson-content" class="lesson-content-text"></div>
      </div>
    </div>
  </div>
</div>


